<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>reCAPTCHA Example</title>
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
</head>
<body>
  <form id="myForm" action="https://google-recaptcha-site-test-backend.onrender.com/submit" method="POST">
    <div class="g-recaptcha" data-sitekey="6LeSpOspAAAAAKu9JG3c9FDiSjbCFTBPQnTPsK2m"></div>
    <button type="submit">Submit</button>
  </form>

  <script>
    document.getElementById('myForm').addEventListener('submit', function (event) {
      event.preventDefault();

      grecaptcha.ready(function () {
        grecaptcha.execute('6LeSpOspAAAAAKu9JG3c9FDiSjbCFTBPQnTPsK2m', { action: 'submit' }).then(function (token) {
          const formData = new FormData();
          formData.append('token', token);

          fetch('https://google-recaptcha-site-test-backend.onrender.com/submit', {
            method: 'POST',
            body: formData,
          })
          .then(response => response.json())
          .then(data => {
            console.log(data);
          });
        });
      });
    });
  </script>
</body>
</html>
